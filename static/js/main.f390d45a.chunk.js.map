{"version":3,"sources":["components/Header/Header.js","components/Sidebar/Sidebar.js","components/Main/Main.js","components/Footer/Footer.js","App.js","index.js"],"names":["Header","Sidebar","className","Main","componentDidMount","fetch","then","res","json","result","setState","items","cars","items2","error","state","current","isSorted","value","results","find","bind","handleSubmit","x","this","mark","model","tariffs","year","e","console","log","target","length","document","querySelector","classList","add","remove","a","forEach","toLowerCase","includes","push","preventDefault","onSubmit","placeholder","type","onChange","onClick","sorted","reverse","map","i","text","hasOwnProperty","React","Component","Footer","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f390d45a.chunk.js","sourcesContent":["import './Header.css'\n\nfunction Header(){\n    return (\n        <header>\n         <h1>\n            header \n         </h1>\n        </header>\n    )\n}\n\nexport default Header;","import './Sidebar.css'\n\nfunction Sidebar(){\n    return(\n        <div className='sidebar'>\n            <h1>sidebar</h1>\n        </div>\n    )\n}\n\nexport default Sidebar","import React from \"react\";\nimport \"./Main.css\";\nclass Main extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      error: null,\n      items: [],\n      current: \"Пока ничего не выбрано\",\n      isSorted: true,\n      items2: [],\n      value: '',\n      results: []\n    };\n    this.find = this.find.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this)\n  }\n  text(x) {\n    this.setState({\n      current: `Выбран автомобиль ${x.mark} ${x.model} ${\n        x.tariffs[\"Эконом\"]\n          ? x.tariffs[\"Эконом\"].year\n          : x.tariffs[\"Комфорт\"]\n          ? x.tariffs[\"Комфорт\"].year\n          : x.tariffs[\"Комфорт+\"]\n          ? x.tariffs[\"Комфорт+\"].year\n          : x.tariffs[\"Минивен\"]\n          ? x.tariffs[\"Минивен\"].year\n          : x.tariffs[\"Бизнес\"]\n          ? x.tariffs[\"Бизнес\"].year\n          : \"без\"\n      }  года выпуска`,\n    });\n  }\n  sorted() {\n    this.setState({ isSorted: !this.state.isSorted });\n  }\n  componentDidMount = () => {\n    fetch(\"https://city-mobil.ru/api/cars\")\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          this.setState({\n            items: result.cars,\n            items2: result.cars\n          });\n        },\n        (error) => {\n          this.setState({\n            error: error,\n          });\n        }\n      );\n  };\n\n  find(e){\n    console.log(e.target.value)\n    this.setState({results : this.state.items})\n    e.target.value.length === 0 ? document.querySelector('.main__input').classList.add('main__input-find') : document.querySelector('.main__input').classList.remove('main__input-find') \n    \n    this.setState({\n      value: e.target.value\n    })\n    let a = []\n    this.state.items.forEach(x => {\n      if(x.mark.toLowerCase().includes(this.state.value.toLowerCase()) || x.model.toLowerCase().includes(this.state.value.toLowerCase())){\n        a.push(x)\n        \n      }\n    })\n\n    this.setState({results: a})\n  \n\n  }\n\n  handleSubmit(e){\n    e.preventDefault()\n    this.state.value.length === 0 ? this.setState({items: this.state.items2}) : this.setState({items: this.state.results})\n\n  }\n  render() {\n    return (\n      <main>\n        <form className=\"main__box\" onSubmit={this.handleSubmit}>\n          <input placeholder=\"Поиск\" className=\"main__input main__input-find\" type=\"text\" onChange={this.find} />\n          <button type='submit' className=\"main__button\">Найти</button>\n        </form>\n        <table>\n          <thead>\n            <tr>\n              <th>\n                Марка и модель{\" \"}\n                <button className=\"main__sorted\" onClick={() => this.sorted()}>\n                  {this.state.isSorted ? \"По убыванию\" : \"По возрастанию\"}\n                </button>\n              </th>\n              <th>Эконом</th>\n              <th>Комфорт</th>\n              <th>Комфорт +</th>\n              <th>Минивен</th>\n              <th>Бизнес</th>\n            </tr>\n          </thead>\n          <tbody>\n            {(this.state.isSorted\n              ? this.state.items\n              : this.state.items.reverse()\n            ).map((x, i) => {\n              return (\n                <tr onClick={() => this.text(x)}>\n                  <td>\n                    {x.mark} {x.model}\n                  </td>\n                  <td>\n                    {x.tariffs.hasOwnProperty(\"Эконом\")\n                      ? x.tariffs[\"Эконом\"].year\n                      : \"-\"}\n                  </td>\n                  <td>\n                    {x.tariffs.hasOwnProperty(\"Комфорт\")\n                      ? x.tariffs[\"Комфорт\"].year\n                      : \"-\"}\n                  </td>\n                  <td>\n                    {x.tariffs.hasOwnProperty(\"Комфорт+\")\n                      ? x.tariffs[\"Комфорт+\"].year\n                      : \"-\"}\n                  </td>\n                  <td>\n                    {x.tariffs.hasOwnProperty(\"Минивен\")\n                      ? x.tariffs[\"Минивен\"].year\n                      : \"-\"}\n                  </td>\n                  <td>\n                    {x.tariffs.hasOwnProperty(\"Бизнес\")\n                      ? x.tariffs[\"Бизнес\"].year\n                      : \"-\"}\n                  </td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n        <p className=\"main__current\">{this.state.current}</p>\n      </main>\n    );\n  }\n}\nexport default Main;\n","import './Footer.css'\n\nfunction Footer(){\n    return (\n        <footer>\n         <h1>\n            footer \n         </h1>\n        </footer>\n    )\n}\n\nexport default Footer;","import './App.css';\nimport Header from './components/Header/Header'\nimport Sidebar from './components/Sidebar/Sidebar'\nimport Main from './components/Main/Main'\nimport Footer from './components/Footer/Footer'\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header />\n      <div className='App__box'>\n      <Sidebar />\n      <Main />\n      </div>\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'normalize.css'\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n\n"],"sourceRoot":""}